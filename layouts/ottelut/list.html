{{ define "main" }}
<div class="pa3 pa4-ns">
  <h1 class="f1 athelas tc">{{ .Title | default "Otteluohjelma" }}</h1>

  {{ $ottelut := where .Site.RegularPages "Section" "ottelut" }}
  
  {{/* Määritellään tämän päivän päivämäärä ilman kellonaikaa */}}
  {{ $tanaan := now.Format "2006-01-02" }}

  <!-- TULEVAT OTTELUT -->
  <section class="w-100 mw8 center mt4">
    <h2 class="f2 b helveticas tc">Tulevat ottelut</h2>
    {{/* Vertaa ottelun päivämäärää tähän päivään */}}
    {{ $tulevat := where $ottelut ".Params.paivamaara" "ge" $tanaan }}
    {{ range $tulevat.ByParam "paivamaara" }}
      <article class="ba b--black-10 mv3 pa3">
        <p class="f6 b">{{ .Params.paivamaara.Format "Maanantai 2.1.2006" }} klo {{ .Params.kellonaika }}</p>
        <h3 class="f3 mv1">{{ .Params.kotijoukkue }} – {{ .Params.vierasjoukkue }}</h3>
        <p class="f5 gray mv1">{{ .Params.pelipaikka }}</p>
      </article>
    {{ else }}
      <p class="tc">Ei tulevia otteluita.</p>
    {{ end }}
  </section>

  <!-- MENNEET OTTELUT -->
  <section class="w-100 mw8 center mt5">
    <h2 class="f2 b helveticas tc">Pelatut ottelut ja tulokset</h2>
    {{ $menneet := where $ottelut ".Params.paivamaara" "lt" $tanaan }}
    {{ range ($menneet.ByParam "paivamaara").Reverse }}
      <article class="ba b--black-10 mv3 pa3">
        <p class="f6">{{ .Params.paivamaara.Format "2.1.2006" }}</p>
        <h3 class="f4 mv1">{{ .Params.kotijoukkue }} – {{ .Params.vierasjoukkue }}</h3>
        <p class="f3 b mv1">{{ .Params.tulos }}</p>
      </article>
    {{ else }}
      <p class="tc">Ei pelattuja otteluita.</p>
    {{ end }}
  </section>
</div>
{{ end }}