{{ define "main" }}
  <header>
    <h1 class="page-title">Pelaajat</h1>
  </header>

  <!-- Haetaan kaikki pelaajat ensin yhteen muuttujaan -->
  {{ $pelaajat := .Site.GetPage "section" "pelaajat" }}

  <!-- Nykyisen kauden pelaajat -->
  <h2>Kausi 2024-2025</h2>
  <section class="pelaaja-lista">
    {{ $nykyiset := where $pelaajat.Pages "Params.kausi" "2024-2025" }}
    {{ range $nykyiset.ByParam "pelinumero" }}
      <div class="pelaaja-kortti">
        <h3><a href="{{ .Permalink }}">#{{ .Params.pelinumero }} {{ .Title }}</a></h3>
        <p>{{ .Params.pelipaikka }}</p>
      </div>
    {{ else }}
      <p>Ei pelaajia tällä kaudella.</p>
    {{ end }}
  </section>

  <!-- Entiset pelaajat -->
  <h2>Entiset pelaajat</h2>
  <section class="pelaaja-lista">
    {{ $entiset := where $pelaajat.Pages "Params.kausi" "Entinen pelaaja" }}
    {{ range $entiset.ByParam "sukunimi" }}
      <div class="pelaaja-kortti">
        <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
        <p>{{ .Params.kausi }}</p>
      </div>
    {{ else }}
      <p>Ei entisiä pelaajia listattuna.</p>
    {{ end }}
  </section>

{{ end }}